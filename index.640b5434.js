!function(){var e="73bd6bca6bd522830119f0c6decba840",t=document.querySelector(".temperature-value p"),n=document.querySelector(".temperature-description p"),o=document.querySelector(".location p"),c=document.querySelector(".weather-icon"),a=document.querySelector(".day p"),r=document.querySelector(".date p"),i=document.querySelector(".weather-button"),d=document.querySelector(".weather-week__container"),s=document.querySelector(".weather-current__container"),u=document.querySelector(".weather-week-close-button"),m=document.querySelector(".weather-week__forecast");i.addEventListener("click",(function(e){e.preventDefault(),s.classList.add("is-hidden"),d.classList.contains("is-hidden")&&d.classList.remove("is-hidden")})),u.addEventListener("click",(function(e){e.preventDefault(),d.classList.add("is-hidden"),s.classList.contains("is-hidden")&&s.classList.remove("is-hidden")}));var l=new Date,p=l.toLocaleDateString("en-gb",{day:"numeric",month:"short",year:"numeric"}),h=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][l.getDay()],f={temperature:{value:"",unit:"celsius"},description:"",iconId:"",city:"",country:"",day:"".concat(l),data:"".concat(h)};"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(i){if(i&&i.coords){var d=i.coords.latitude,s=i.coords.longitude;!function(i,d){var s="http://api.openweathermap.org/data/2.5/weather?lat=".concat(i,"&lon=").concat(d,"&appid=").concat(e);fetch(s).then((function(e){return e.json()})).then((function(e){f.temperature.value=Math.floor(e.main.temp-273),f.description=e.weather[0].description,f.iconId=e.weather[0].icon,f.city=e.name,f.country=e.sys.country})).then((function(){c.insertAdjacentHTML("beforeend",'<img src="http://openweathermap.org/img/wn/'.concat(f.iconId,'@4x.png" height= "155"\n\twidth= "165"/>')),t.insertAdjacentHTML("beforeend","".concat(f.temperature.value,"°")),n.insertAdjacentHTML("beforeend",f.description),o.insertAdjacentHTML("beforeend","".concat(f.city)),a.insertAdjacentHTML("beforeend","".concat(h)),r.insertAdjacentHTML("beforeend","".concat(p))}))}(d,s),function(e,t){var n="ba7fddf449339701f9df702aeb87be1d",o="http://api.openweathermap.org/data/2.5/forecast?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(n);fetch(o).then((function(e){return e.json()})).then((function(e){for(var t=e.list,n={},o=0;o<t.length;o++){var c=t[o].dt_txt.slice(0,10);n[c]?(t[o].main.temp<n[c].minTemp&&(n[c].minTemp=t[o].main.temp),t[o].main.temp>n[c].maxTemp&&(n[c].maxTemp=t[o].main.temp)):n[c]={date:c,minTemp:t[o].main.temp,maxTemp:t[o].main.temp,weather:t[o].weather[0].description}}console.log(n);m.innerHTML="",Object.keys(n).forEach((function(e){var t=n[e],o=t.date,c=new Date(o).toLocaleString("en-GB",{day:"numeric",month:"short",year:"numeric"}),a=t.minTemp,r=t.maxTemp,i=t.weather;console.log("Дата: ".concat(c,", Мінімальна температура: ").concat(a,", Максимальна температура: ").concat(r,", Опис погоди: ").concat(i));var d=document.createElement("li");d.innerHTML="Дата: ".concat(c,", Мінімальна температура: ").concat(a,", Максимальна температура: ").concat(r,", Опис погоди: ").concat(i),m.appendChild(d)}))})).catch((function(e){return console.log(e)}))}(d,s)}else console.log("Position data not available.")}),(function(e){console.log("nothing")})):console.log(error),d.classList.add("is-hidden")}();
//# sourceMappingURL=index.640b5434.js.map
