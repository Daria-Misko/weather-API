const e=document.querySelector(".temperature-value p"),t=document.querySelector(".temperature-description p"),n=document.querySelector(".location p"),a=document.querySelector(".weather-icon"),o=document.querySelector(".day p"),r=document.querySelector(".date p"),i=document.querySelector(".weather-button"),c=document.querySelector(".weather-week__container"),s=document.querySelector(".weather-current__container"),d=document.querySelector(".weather-week-close-button"),l=document.querySelector(".weather-week__forecast");i.addEventListener("click",(function(e){e.preventDefault(),s.classList.add("is-hidden"),c.classList.contains("is-hidden")&&c.classList.remove("is-hidden")})),d.addEventListener("click",(function(e){e.preventDefault(),c.classList.add("is-hidden"),s.classList.contains("is-hidden")&&s.classList.remove("is-hidden")}));const u=new Date;let m=u.toLocaleDateString("en-gb",{day:"numeric",month:"short",year:"numeric"});let p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][u.getDay()];const h={temperature:{value:"",unit:"celsius"},description:"",iconId:"",city:"",country:"",day:`${u}`,data:`${p}`};o.insertAdjacentHTML("beforeend",`${p}`),r.insertAdjacentHTML("beforeend",`${m}`),"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(o){if(o&&o.coords){let r=o.coords.latitude,i=o.coords.longitude;!function(o,r){fetch(`http://api.openweathermap.org/data/2.5/weather?lat=${o}&lon=${r}&appid=73bd6bca6bd522830119f0c6decba840`).then((function(e){return e.json()})).then((function(e){h.temperature.value=Math.floor(e.main.temp-273),h.description=e.weather[0].description,h.iconId=e.weather[0].icon,h.city=e.name,h.country=e.sys.country})).then((function(){a.innerHTML=`<img src="http://openweathermap.org/img/wn/${h.iconId}@4x.png" height= "155"\n\twidth= "165"/>`,e.insertAdjacentHTML("beforeend",`${h.temperature.value}Â°`),t.innerHTML=`${h.description}`,n.innerHTML=`${h.city}`}))}(r,i),function(e,t){fetch(`http://api.openweathermap.org/data/2.5/forecast?lat=${e}&lon=${t}&appid=ba7fddf449339701f9df702aeb87be1d`).then((e=>e.json())).then((e=>{const t=e.list,n={};for(let e=0;e<t.length;e++){const a=t[e].dt_txt.slice(0,10);n[a]?(t[e].main.temp<n[a].minTemp&&(n[a].minTemp=t[e].main.temp),t[e].main.temp>n[a].maxTemp&&(n[a].maxTemp=t[e].main.temp)):n[a]={date:a,minTemp:t[e].main.temp,maxTemp:t[e].main.temp,weather:t[e].weather[0].description}}console.log(n);l.innerHTML="",Object.keys(n).forEach((e=>{const t=n[e],a=t.date,o=new Date(a).toLocaleString("en-GB",{day:"numeric",month:"short",year:"numeric"}),r=Math.floor(t.minTemp-273),i=Math.floor(t.maxTemp-273),c=t.weather,s=document.createElement("li");s.classList.add("weather-week__item"),s.innerHTML=`<span class="weather-week__value">${o}</span>:<br> Min. temp: <span class="weather-week__value">${r}</span>, Max. temp: <span class="weather-week__value">${i}</span><br> Descr.: <span class="weather-week__value">${c}</span>`,l.appendChild(s)}))})).catch((e=>console.log(e)))}(r,i)}else console.log("Position data not available.")}),(function(e){console.log("nothing")})):console.log(error),c.classList.add("is-hidden");
//# sourceMappingURL=index.b011baaf.js.map
