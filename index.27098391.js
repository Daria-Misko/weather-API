!function(){var e="73bd6bca6bd522830119f0c6decba840",t=273,n=document.querySelector(".temperature-value p"),a=document.querySelector(".temperature-description p"),o=document.querySelector(".location p"),c=document.querySelector(".weather-icon"),r=document.querySelector(".day p"),i=document.querySelector(".date p"),s=document.querySelector(".weather-button"),d=document.querySelector(".weather-week__container"),u=document.querySelector(".weather-current__container"),l=document.querySelector(".weather-week-close-button"),m=document.querySelector(".weather-week__forecast");s.addEventListener("click",(function(e){e.preventDefault(),u.classList.add("is-hidden"),d.classList.contains("is-hidden")&&d.classList.remove("is-hidden")})),l.addEventListener("click",(function(e){e.preventDefault(),d.classList.add("is-hidden"),u.classList.contains("is-hidden")&&u.classList.remove("is-hidden")}));var p=new Date,h=p.toLocaleDateString("en-gb",{day:"numeric",month:"short",year:"numeric"}),f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][p.getDay()],w={temperature:{value:"",unit:"celsius"},description:"",iconId:"",city:"",country:"",day:"".concat(p),data:"".concat(f)};r.insertAdjacentHTML("beforeend","".concat(f)),i.insertAdjacentHTML("beforeend","".concat(h)),"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(r){if(r&&r.coords){var i=r.coords.latitude,s=r.coords.longitude;!function(r,i){var s="http://api.openweathermap.org/data/2.5/weather?lat=".concat(r,"&lon=").concat(i,"&appid=").concat(e);fetch(s).then((function(e){return e.json()})).then((function(e){w.temperature.value=Math.floor(e.main.temp-t),w.description=e.weather[0].description,w.iconId=e.weather[0].icon,w.city=e.name,w.country=e.sys.country})).then((function(){c.innerHTML='<img src="http://openweathermap.org/img/wn/'.concat(w.iconId,'@4x.png" height= "155"\n\twidth= "165"/>'),n.insertAdjacentHTML("beforeend","".concat(w.temperature.value,"Â°")),a.innerHTML="".concat(w.description),o.innerHTML="".concat(w.city)}))}(i,s),function(e,n){var a="ba7fddf449339701f9df702aeb87be1d",o="http://api.openweathermap.org/data/2.5/forecast?lat=".concat(e,"&lon=").concat(n,"&appid=").concat(a);fetch(o).then((function(e){return e.json()})).then((function(e){for(var n=e.list,a={},o=0;o<n.length;o++){var c=n[o].dt_txt.slice(0,10);a[c]?(n[o].main.temp<a[c].minTemp&&(a[c].minTemp=n[o].main.temp),n[o].main.temp>a[c].maxTemp&&(a[c].maxTemp=n[o].main.temp)):a[c]={date:c,minTemp:n[o].main.temp,maxTemp:n[o].main.temp,weather:n[o].weather[0].description}}console.log(a);m.innerHTML="",Object.keys(a).forEach((function(e){var n=a[e],o=n.date,c=new Date(o).toLocaleString("en-GB",{day:"numeric",month:"short",year:"numeric"}),r=Math.floor(n.minTemp-t),i=Math.floor(n.maxTemp-t),s=n.weather,d=document.createElement("li");d.classList.add("weather-week__item"),d.innerHTML='<span class="weather-week__value">'.concat(c,'</span>:<br> Min. temp: <span class="weather-week__value">').concat(r,'</span>, Max. temp: <span class="weather-week__value">').concat(i,'</span><br> Descr.: <span class="weather-week__value">').concat(s,"</span>"),m.appendChild(d)}))})).catch((function(e){return console.log(e)}))}(i,s)}else console.log("Position data not available.")}),(function(e){console.log("nothing")})):console.log(error),d.classList.add("is-hidden")}();
//# sourceMappingURL=index.27098391.js.map
